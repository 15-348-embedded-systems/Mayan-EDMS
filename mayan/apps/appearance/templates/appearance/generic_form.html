{% extends 'appearance/base.html' %}

{% load subtemplates_tags %}

{% block title %} :: {% include 'appearance/calculate_form_title.html' %}{% endblock %}

{% block content %}
    {% if main_title %}
        <h3>{{ main_title }}</h3>
        <hr>
    {% endif %}

    {% if form %}
        {% include "appearance/generic_form_subtemplate.html" %}
    {% endif %}

    <div class="row">
        {% for subtemplate in subtemplates_list %}
            {% if subtemplate.grid %}
                <div class="col-xs-{{ subtemplate.grid }}">
            {% else %}
                <div class="col-xs-12">
            {% endif %}
                {% if subtemplate.form %}
                    {% render_subtemplate subtemplate.name subtemplate.context as rendered_subtemplate %}
                        {{ rendered_subtemplate }}
                {% else %}
                    {% render_subtemplate subtemplate.name subtemplate.context as rendered_subtemplate %}
                    {{ rendered_subtemplate }}
                {% endif %}
            </div>
            {% if subtemplate.grid_clear or not subtemplate.grid %}
            {% endif %}
         {% endfor %}
    </div>
{% endblock %}
