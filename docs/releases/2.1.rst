===============================
Mayan EDMS v2.1 release notes
===============================

Released: April, 2016

What's new
==========

- Upgrade to use Django 1.8.11.
- Remove remaining references to Django's User model.
- Remove included login required middleware using django-stronghold instead (http://mikegrouchy.com/django-stronghold/).
- Improve generation of success and error messages for class based views.
- Remove ownership concept from folders.
- Replace strip_spaces middleware with the spaceless template tag.
- Deselect the update checkbox for optional metadata by default.
- Implement per document type document creation permission.
- Make document type delete time period optional.
- Fixed date locale handling in document properties, checkout and user detail views.
- Add HTML5 upload widget.
- Add Message of the Day app.

Other changes
=============
- Upgrade requirements.
- Rename 'Content' search box to 'OCR'.
- Silence all Django 1.8 model import warnings.
- Add icons to the document face menu links.
- Increase icon to text spacing to 3px.
- Add new permission: checkout details view.
- Add HTML tags stripping to the browser title generation template.
- Folder and Tag creation API calls now return the id of the created instances.
- Update Document model's uuid field to use Django's native UUIDField class.
- Add new split view index navigation
- Newly uploaded documents appear in the Recent document list of the user.

Removals
--------
* None

Upgrading from a previous version
---------------------------------

Using PIP
~~~~~~~~~

Type in the console::

    $ pip install -U mayan-edms

the requirements will also be updated automatically.

Using Git
~~~~~~~~~

If you installed Mayan EDMS by cloning the Git repository issue the commands::

    $ git reset --hard HEAD
    $ git pull

otherwise download the compressed archived and uncompress it overriding the
existing installation.

Next upgrade/add the new requirements::

    $ pip install --upgrade -r requirements.txt

Common steps
~~~~~~~~~~~~

Migrate existing database schema with::

    $ mayan-edms.py performupgrade

Add new static media::

    $ mayan-edms.py collectstatic --noinput

The upgrade procedure is now complete.


Backward incompatible changes
=============================

* None

Bugs fixed or issues closed
===========================

* `GitLab issue #162 <https://gitlab.com/mayan-edms/mayan-edms/issues/162>`_   Add HTML5 file uploader.
* `GitLab issue #222 <https://gitlab.com/mayan-edms/mayan-edms/issues/222>`_   Add notice board or Message of the Day.
* `GitLab issue #225 <https://gitlab.com/mayan-edms/mayan-edms/issues/225>`_   Remove hard coded User model.
* `GitLab issue #232 <https://gitlab.com/mayan-edms/mayan-edms/issues/232>`_   "Create documents" is a blanket permission for a user to create a document of any document type.
* `GitLab issue #246 <https://gitlab.com/mayan-edms/mayan-edms/issues/246>`_   Upgrade to Django version 1.8 as Django 1.7 is end-of-life.
* `GitLab issue #255 <https://gitlab.com/mayan-edms/mayan-edms/issues/255>`_   UnicodeDecodeError in apps/common/middleware/strip_spaces_widdleware.py.


.. _PyPI: https://pypi.python.org/pypi/mayan-edms/
